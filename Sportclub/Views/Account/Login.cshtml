@model Sportclub.ViewModel.LoginModelVM

@{
    ViewBag.Title = "Регистрация";
}
<script>
    function onSuccess(data) {
        var img = document.createElement("img");
        $(img).css({ 'width': '40px', 'height': '40px' });
        $(img).attr('src', data);
        localStorage.setItem("imgData", data);
    
    $(location).attr('href', '/Home/Index');
    }
</script>
<h2>Авторизация</h2>
  
@using (Ajax.BeginForm("Login", new AjaxOptions
{
    HttpMethod = "Post",
    Url = "/Account/Login",
    OnSuccess = "onSuccess"
})) { 
    
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        @Html.ValidationSummary(true)

        <div class="form-group">
            @Html.LabelFor(model => model.Login, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Login, new { htmlAttributes = new { @placeholder = "e-mail" } })
                @Html.ValidationMessageFor(model => model.Login)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Password, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Password, new { htmlAttributes = new { @placeholder = "password" } })
                @Html.ValidationMessageFor(model => model.Password)
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Вход" class="btn btn-default" />
            </div>
        </div>
    </div>
}
<br />
@Html.ActionLink("Зарегистрироваться", "Registration", "Account")
